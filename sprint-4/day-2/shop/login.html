<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign up</title>
    <link rel="stylesheet" href="style.css" />
    <style>
      #form {
        width: 50%;
        margin: 20px auto;
      }
      #form input {
        margin-bottom: 12px;
        font-size: 15px;
        border-radius: 5px;
        border-color: antiquewhite;
      }
    </style>
  </head>
  <body>
    <nav class="nav">
      <h3 class="logo"><a href="index.html">Zara</a></h3>
      <div class="flex">
        <h3><a href="#">Men</a></h3>
        <h3><a href="#">Women</a></h3>
        <h3><a href="login.html">Login</a></h3>
        <h3><a href="index.html">Signup</a></h3>
      </div>
    </nav>
    <form id="form">
      <input type="email" placeholder="Enter Email" id="email" /><br />
      <input
        type="number"
        placeholder="Enter Mobile Number"
        id="mobile"
      /><br />
      <input type="password" placeholder="Enter Password" id="pass" /><br />
      <input type="submit" />
    </form>
    <br />
    <a href="signup.html">Sign up</a>
  </body>
</html>
<script>
  form = document.getElementById("form");
  form.addEventListener("submit", myFunc);
  users = JSON.parse(localStorage.getItem("users")) || [];
  logged_in_users = JSON.parse(localStorage.getItem("logged_in")) || [];

  function myFunc(e) {
    e.preventDefault();
    email = document.getElementById("email").value;
    mobile = document.getElementById("mobile").value;
    pass = document.getElementById("pass").value;

    validator = false;
    for (var i in users) {
      if (
        users[i].email == email &&
        users[i].mobile == mobile &&
        users[i].password == pass
      ) {
        validator = true;
      }
    }
    if (validator) {
      logged_in_user = {
        email: email,
        mobile: mobile,
        pass: pass,
      };
      logged_in_users.push(logged_in_user);
      localStorage.setItem("logged_in", JSON.stringify(logged_in_users));
      window.location.href = "mens.html";
      alert("Logged in successfully");
    } else {
      alert("Invalid credentials");
    }
  }
</script>
